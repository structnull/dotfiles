########################################
# MAIN MODIFIER
########################################
$mod = ALT
########################################
# APPLICATION LAUNCHERS
########################################
bind = SUPER,Return,exec,kitty
bind = SUPER,F,exec,brave
bind = SUPER,E,exec,dolphin
bind = ,XF86Calculator,exec,kcalc
bind = SUPER,C,exec,vicinae vicinae://extensions/vicinae/clipboard/history
bind = SUPER,period,exec,vicinae vicinae://extensions/vicinae/vicinae/search-emojis
bind = SUPER,space,exec,vicinae toggle
bind = CONTROLSUPER,W,exec,waypaper
bind = CONTROLSHIFT,Escape,exec,plasma-systemmonitor


########################################
# SYSTEM / SESSION CONTROL
########################################
bind = ,XF86ScreenSaver,exec,$HOME/.scripts/lock.sh & sleep 1 && hyprctl dispatch dpms off
bind = SUPERSHIFT,L,exec,wlogout -p layer-shell
bind = CONTROLALT,Delete,exec,wlogout -p layer-shell
bind = CONTROLSUPERSHIFT,Q,exit,
bind = SUPER,F11,fullscreen,0
bind = $modSHIFT,R,forcerendererreload,


########################################
# SCREENSHOTS & RECORDING
########################################
bind = $modSHIFT,S,exec,~/.scripts/grim_ocr.sh
bind = SUPERSHIFT,S,exec,~/.scripts/grimblast.sh --notify copy area
bind = ,print,exec,~/.scripts/grimblast.sh --notify copysave
bind = CONTROLSUPER,R,exec,~/.scripts/record-screen.sh

########################################
# CUSTOM SCRIPT BINDS
########################################
bind = CONTROLSUPER,P,exec,~/.scripts/dec.sh

bind = CONTROLSUPER,P,exec,~/.scripts/dec.sh
########################################
# ZOOM CONTROLS
########################################
# Zoom In (Doubles the zoom: 1x -> 2x -> 4x)
bind = $modCONTROL, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 2.0')
bind = $modCONTROL, mouse_up,   exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float / 2.0) | if . < 1 then 1 else . end')

binde = $mod, equal,       exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mod, minus,       exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')
binde = $mod, KP_ADD,      exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '.float * 1.1')
binde = $mod, KP_SUBTRACT, exec, hyprctl -q keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor -j | jq '(.float * 0.9) | if . < 1 then 1 else . end')

# Reset zoom
bind = $mod SHIFT, mouse_up,   exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mod SHIFT, mouse_down, exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mod SHIFT, minus,      exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mod SHIFT, KP_SUBTRACT,exec, hyprctl -q keyword cursor:zoom_factor 1
bind = $mod SHIFT, 0,          exec, hyprctl -q keyword cursor:zoom_factor 1


########################################
# VM PASSTHRU SUBMAP
########################################
bind  = SUPER,Escape,submap,passthru
submap = passthru
bind  = SUPER,Escape,submap,reset
submap = reset


########################################
# MOUSE BINDINGS
########################################
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

bind = SUPER,mouse_down,workspace,e+1
bind = SUPER,mouse_up,workspace,e-1


########################################
# AUDIO, MIC & BRIGHTNESS
########################################
# Volume
binde = ,XF86AudioRaiseVolume,exec,~/.scripts/volume_ctl.sh up
binde = ,XF86AudioLowerVolume,exec,~/.scripts/volume_ctl.sh down
bind  = ,XF86AudioMute,exec,~/.scripts/volume_ctl.sh mute
bind  = $mod,M,exec,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Mic
bind = ,XF86AudioMicMute,exec,~/.scripts/mic.sh
bind = $mod,X,exec,~/.scripts/mic.sh

# Brightness
bind = ,XF86MonBrightnessDown,exec,~/.scripts/brightness_ctl.sh down
bind = ,XF86MonBrightnessUp,exec,~/.scripts/brightness_ctl.sh up

# Media Controls
bind = ,XF86AudioPlay,exec,playerctl play-pause
bind = ,XF86AudioNext,exec,playerctl next
bind = ,XF86AudioPrev,exec,playerctl previous

bind = $mod,KP_5,exec,~/.scripts/playerctl.sh play-pause
bind = $mod,KP_6,exec,~/.scripts/playerctl.sh next
bind = $mod,KP_4,exec,~/.scripts/playerctl.sh previous

bind = $mod,KP_Begin,exec,~/.scripts/playerctl.sh play-pause
bind = $mod,KP_Left, exec,~/.scripts/playerctl.sh previous
bind = $mod,KP_Right,exec,~/.scripts/playerctl.sh next
bind = $mod,period, exec,~/.scripts/playerctl.sh play-pause
bind = $mod,comma,  exec,~/.scripts/playerctl.sh previous
bind = $mod,slash,  exec,~/.scripts/playerctl.sh next

# Volume shortcuts
bind = $mod,KP_Add,      exec,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = $mod,KP_Subtract, exec,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-


########################################
# WORKSPACES
########################################
# Switch
bind = $mod,1,workspace,1
bind = $mod,2,workspace,2
bind = $mod,3,workspace,3
bind = $mod,4,workspace,4
bind = $mod,5,workspace,5
bind = $mod,6,workspace,6
bind = $mod,7,workspace,7
bind = $mod,8,workspace,8
bind = $mod,9,workspace,9

bind = $mod,D,togglespecialworkspace

# Move window
bind = $modSHIFT,1,movetoworkspace,1
bind = $modSHIFT,2,movetoworkspace,2
bind = $modSHIFT,3,movetoworkspace,3
bind = $modSHIFT,4,movetoworkspace,4
bind = $modSHIFT,5,movetoworkspace,5
bind = $modSHIFT,6,movetoworkspace,6
bind = $modSHIFT,7,movetoworkspace,7
bind = $modSHIFT,8,movetoworkspace,8
bind = $modSHIFT,9,movetoworkspace,9

bind = $modSHIFT,D,movetoworkspace,special


########################################
# WINDOW / TILING CONTROL
########################################
# Basic actions
bind = $mod,S,togglefloating
bind = $mod,P,pseudo
bind = $mod,T,togglesplit
bind = $mod,Q,killactive
bind = SUPER,tab,togglegroup
bind = $mod,tab,changegroupactive

# Focus movement
bind = $mod,left, movefocus,l
bind = $mod,right,movefocus,r
bind = $mod,up,   movefocus,u
bind = $mod,down, movefocus,d

bind = $mod,h,movefocus,l
bind = $mod,l,movefocus,r
bind = $mod,k,movefocus,u
bind = $mod,j,movefocus,d

# Move windows
bind = $modSHIFT,left, movewindoworgroup,l
bind = $modSHIFT,right,movewindoworgroup,r
bind = $modSHIFT,up,   movewindoworgroup,u
bind = $modSHIFT,down, movewindoworgroup,d

bind = $modSHIFT,H,movewindow,l
bind = $modSHIFT,L,movewindow,r
bind = $modSHIFT,K,movewindow,u
bind = $modSHIFT,J,movewindow,d

# Monitor focus
bind = $modCONTROL,up,   focusmonitor,l
bind = $modCONTROL,down, focusmonitor,r

# Resize
bind = CONTROL$mod,left,  resizeactive,-20 0
bind = CONTROL$mod,right, resizeactive,20 0
bind = CONTROL$mod,up,    resizeactive,0 -20
bind = CONTROL$mod,down,  resizeactive,0 20

# Split ratio
bind = CONTROL$mod,h,splitratio,-0.1
bind = CONTROL$mod,l,splitratio,+0.1
bind = CONTROL$mod,k,splitratio,-0.1
bind = CONTROL$mod,j,splitratio,+0.1

# Group navigation
bind = $mod,up,   changegroupactive,f
bind = $mod,down, changegroupactive,b
